<!-- contact.component.html -->
<div class="contact-container">
  <div class="contact-header">
    <div class="container">
      <h1>اتصل بنا</h1>
      <p>نحن هنا للمساعدة ونرحب بتواصلك معنا</p>
    </div>
  </div>

  <div class="container">
    <div class="contact-content">
      <div class="contact-info-section">
        <div class="contact-card">
          <div class="contact-card-header">
            <h2>معلومات الاتصال</h2>
            <p>يمكنك التواصل معنا مباشرة باستخدام أي من وسائل الاتصال التالية</p>
          </div>
          <div class="contact-methods">
            <div class="contact-method">
              <div class="contact-icon">
                <i class="fas fa-envelope"></i>
              </div>
              <div class="contact-details">
                <h3>البريد الإلكتروني</h3>
                <p>{{ contactInfo.email }}</p>
              </div>
            </div>
            <div class="contact-method">
              <div class="contact-icon">
                <i class="fas fa-phone-alt"></i>
              </div>
              <div class="contact-details">
                <h3>الهاتف</h3>
                <p>{{ contactInfo.phone }}</p>
              </div>
            </div>
            <div class="contact-method">
              <div class="contact-icon">
                <i class="fas fa-map-marker-alt"></i>
              </div>
              <div class="contact-details">
                <h3>العنوان</h3>
                <p>{{ contactInfo.address }}</p>
              </div>
            </div>
            <div class="contact-method">
              <div class="contact-icon">
                <i class="fas fa-clock"></i>
              </div>
              <div class="contact-details">
                <h3>ساعات العمل</h3>
                <p>{{ contactInfo.hours }}</p>
              </div>
            </div>
          </div>
        </div>

        <div class="contact-social">
          <h3>تابعنا على وسائل التواصل الاجتماعي</h3>
          <div class="social-icons">
            <a href="#" class="social-icon">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" class="social-icon">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="#" class="social-icon">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="#" class="social-icon">
              <i class="fab fa-youtube"></i>
            </a>
            <a href="#" class="social-icon">
              <i class="fab fa-telegram"></i>
            </a>
          </div>
        </div>
      </div>

      <div class="contact-form-section">
        <div class="form-card">
          <h2>أرسل لنا رسالة</h2>
          <p>املأ النموذج أدناه وسنقوم بالرد عليك في أقرب وقت ممكن</p>

          <div class="alert success" *ngIf="submitSuccess">
            <i class="fas fa-check-circle"></i>
            <span>تم إرسال رسالتك بنجاح! سنتواصل معك قريبًا.</span>
          </div>

          <div class="alert error" *ngIf="submitError">
            <i class="fas fa-exclamation-circle"></i>
            <span>حدث خطأ أثناء إرسال رسالتك. يرجى المحاولة مرة أخرى.</span>
          </div>

          <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
            <div class="form-group">
              <label for="name">الاسم الكامل <span class="required">*</span></label>
              <input
                type="text"
                id="name"
                formControlName="name"
                [ngClass]="{'invalid': isSubmitted && f['name'].errors}"
                placeholder="أدخل اسمك الكامل"
              >
              <div class="error-message" *ngIf="isSubmitted && f['name'].errors">
                <span *ngIf="f['name'].errors['required']">الاسم مطلوب</span>
                <span *ngIf="f['name'].errors['minlength']">يجب أن يكون الاسم 3 أحرف على الأقل</span>
              </div>
            </div>

            <div class="form-group">
              <label for="email">البريد الإلكتروني <span class="required">*</span></label>
              <input
                type="email"
                id="email"
                formControlName="email"
                [ngClass]="{'invalid': isSubmitted && f['email'].errors}"
                placeholder="أدخل بريدك الإلكتروني"
              >
              <div class="error-message" *ngIf="isSubmitted && f['email'].errors">
                <span *ngIf="f['email'].errors['required']">البريد الإلكتروني مطلوب</span>
                <span *ngIf="f['email'].errors['email']">يرجى إدخال بريد إلكتروني صالح</span>
              </div>
            </div>

            <div class="form-group">
              <label for="phone">رقم الهاتف (اختياري)</label>
              <input
                type="tel"
                id="phone"
                formControlName="phone"
                [ngClass]="{'invalid': isSubmitted && f['phone'].errors}"
                placeholder="أدخل رقم هاتفك"
              >
              <div class="error-message" *ngIf="isSubmitted && f['phone'].errors">
                <span *ngIf="f['phone'].errors['pattern']">يرجى إدخال رقم هاتف صالح</span>
              </div>
            </div>

            <div class="form-group">
              <label for="topic">موضوع الرسالة <span class="required">*</span></label>
              <select
                id="topic"
                formControlName="topic"
                [ngClass]="{'invalid': isSubmitted && f['topic'].errors}"
              >
                <option *ngFor="let option of topicOptions" [value]="option.value">{{ option.label }}</option>
              </select>
            </div>

            <div class="form-group">
              <label for="message">الرسالة <span class="required">*</span></label>
              <textarea
                id="message"
                formControlName="message"
                [ngClass]="{'invalid': isSubmitted && f['message'].errors}"
                placeholder="اكتب رسالتك هنا..."
                rows="6"
              ></textarea>
              <div class="error-message" *ngIf="isSubmitted && f['message'].errors">
                <span *ngIf="f['message'].errors['required']">الرسالة مطلوبة</span>
                <span *ngIf="f['message'].errors['minlength']">يجب أن تكون الرسالة 10 أحرف على الأقل</span>
              </div>
            </div>

            <button type="submit" class="submit-btn">
              <span>إرسال الرسالة</span>
              <i class="fas fa-paper-plane"></i>
            </button>
          </form>
        </div>
      </div>
    </div>

    <div class="map-section">
      <h2>موقعنا</h2>
      <div class="map-container">
        <!-- Placeholder for map - in a real app, you would integrate Google Maps or another mapping service -->
        <div class="map-placeholder">
          <i class="fas fa-map-marked-alt"></i>
          <p>خريطة الموقع</p>
        </div>
      </div>
    </div>

    <div class="faq-section">
      <h2>الأسئلة المتكررة</h2>
      <div class="faq-items">
        <div class="faq-item" *ngFor="let faq of faqs; let i = index" [id]="'faq-' + i">
          <div class="faq-question" (click)="toggleFaq(i)">
            <h3>{{ faq.question }}</h3>
            <span class="faq-icon">
              <i class="fas fa-chevron-down"></i>
            </span>
          </div>
          <div class="faq-answer">
            <p>{{ faq.answer }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
